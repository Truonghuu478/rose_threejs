<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Realistic Rose Bloom</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css">
    <!-- Add Google Font -->

  </head>
  <body>
    <div class="overlay-text">
      <br>
        Trâm ơi, hôm nay là một ngày đặc biệt,</br>
Chúc em luôn bình an, tâm hồn thanh thản.</br>
Giữa nhịp sống vội vã, hãy tìm sự tĩnh lặng,</br>
Và nuôi dưỡng sức khỏe, cả thể xác lẫn tinh thần.</br>
      </p>
      <p>
        Mỗi khoảnh khắc, là một cơ hội để trưởng thành,</br>
        Hãy yêu đời và khám phá mọi điều mới lạ.</br>
        Đừng để lo âu che mờ ánh sáng,</br>
        Vì sự lạc quan sẽ dẫn đường em đi tới.</br>
      </p>
      <p>
        Dẫu thế giới có đôi lúc bất định,</br>
        Hãy luôn tin rằng em đủ mạnh mẽ vượt qua.</br>
        Bình yên sẽ đến, như một dòng sông tĩnh lặng,</br>
        Mang theo sự an nhiên và niềm vui nhẹ nhàng.</br>
      </p>
      <p>
        Dẫu thế giới có đôi lúc bất định,</br>
        Hãy luôn tin rằng em đủ mạnh mẽ vượt qua.</br>
        Bình yên sẽ đến, như một dòng sông tĩnh lặng,</br>
        Mang theo sự an nhiên và niềm vui nhẹ nhàng.</br>
      </p>
    </div>

    <!-- Audio autoplay -->
    <audio id="background-music" autoplay loop muted>
      <source
        src="https://www.bensound.com/bensound-music/bensound-lovely.mp3"
        type="audio/mp3"
      />
      Your browser does not support the audio element.
    </audio>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>

    <script>
      // Scene setup
      const scene = new THREE.Scene();
      let clock = new THREE.Clock(); // Tạo đồng hồ để theo dõi thời gian

      const camera = new THREE.PerspectiveCamera(
        75,
        window.innerWidth / window.innerHeight,
        0.1,
        1000
      );
      const renderer = new THREE.WebGLRenderer();
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.body.appendChild(renderer.domElement);

      // Lighting
      const light = new THREE.DirectionalLight(0xffffff, 1);
      light.position.set(5, 10, 7.5);
      scene.add(light);

      const ambientLight = new THREE.AmbientLight(0x404040); // Soft ambient light
      scene.add(ambientLight);

      // Load GLTF/GLB Model of the rose
      const loader = new THREE.GLTFLoader();
      loader.load(
        "path/rose_model.glb",
        function (gltf) {
          const rose = gltf.scene;
          rose.position.set(-5, -3, 1); // Adjust position to center
          rose.scale.set(20, 20, 20); // Adjust scale for better visibility
          scene.add(rose);

          // Animation: Rotate the rose slowly
          function animate() {
            requestAnimationFrame(animate);
            let time = clock.getElapsedTime(); // Lấy thời gian trôi qua
            // rose.position.y = Math.sin(time) * 0.1; // Lắc lư theo trục y
            rose.rotation.y += 0.003; // Rotate rose
            light.color.setHSL(Math.sin(time * 0.5), 0.5, 0.5); // Thay đổi màu ánh sáng theo thời gian

            renderer.render(scene, camera);
          }
          animate();
        },
        undefined,
        function (error) {
          console.error(error);
        }
      );

      // Camera positioning
      camera.position.set(0, 0, 10); // Set camera position

      // Handle window resize
      window.addEventListener("resize", () => {
        renderer.setSize(window.innerWidth, window.innerHeight);
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
      });
      const particleGeometry = new THREE.BufferGeometry();
      const particleCount = 5000;
      const positions = [];

      for (let i = 0; i < particleCount; i++) {
        const x = (Math.random() - 0.5) * 50;
        const y = (Math.random() - 0.5) * 50;
        const z = (Math.random() - 0.5) * 50;
        positions.push(x, y, z);
      }

      particleGeometry.setAttribute(
        "position",
        new THREE.Float32BufferAttribute(positions, 3)
      );

      const particleMaterial = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 0.05,
        transparent: true,
        opacity: 0.8,
      });

      const particles = new THREE.Points(particleGeometry, particleMaterial);
      scene.add(particles);
    </script>
  </body>
</html>
